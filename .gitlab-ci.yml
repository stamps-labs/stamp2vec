stages:
  - Test
  - deploy

Type-test:
  stage: Test
  image: python:3.9
  script:
    - pip install mypy
    - mypy src
  allow_failure: true

Lint-test:
  stage: Test
  image: python:3.9
  script:
    - pip install flake8
    - flake8
  allow_failure: true

Unused-code-test:
  stage: Test
  image: python:3.9
  script:
    - pip install vulture
    - vulture src/
  allow_failure: true

Unit-test:
  stage: Test
  image: python:3.9
  script:
    - pip install pytest
    - pip install -r requirements.txt
    - pytest tests/